import cors from 'cors';

let goals = [
 {
   title: 'Finalizar curso Google Cyber Segurança (Módulo 6/8)',
   deadline: '2025-06-30',
   progress: 75,
   category: 'Estudos'
 },
 {
   title: 'Curso técnico em segurança CISCO',
   deadline: '2025-06-30',
   progress: 100,
   category: 'Estudos'
 },
 {
   title: 'Aprender Arduino e conceitos de hardware',
   deadline: '2025-09-01',
   progress: 70,
   category: 'Estudos'
 },
 {
   title: 'Configurar e explorar Raspberry Pi para projetos de redes',
   deadline: '2025-08-15',
   progress: 90,
   category: 'Hands-on'
 },
 {
   title: 'Estudo e prática com Mikrotik: roteamento, firewall e SNMP',
   deadline: '2025-09-30',
   progress: 95,
   category: 'Redes'
 },
 {
   title: 'Monitorar redes com Zabbix e criar dashboards no Grafana',
   deadline: '2025-10-15',
   progress: 90,
   category: 'Monitoramento'
 },
 {
   title: 'Aprofundar em virtualização com VMware',
   deadline: '2025-11-30',
   progress: 60,
   category: 'Infraestrutura'
 },
 {
   title: 'Obter certificação CompTIA Security+',
   deadline: '2025-12-20',
   progress: 60,
   category: 'Certificação'
 },
 {
   title: 'Aprofundar-se em Python',
   deadline: '2025-12-31',
   progress: 10,
   category: 'Programação'
 },
 {
   title: 'Aprender C',
   deadline: '2025-12-31',
   progress: 5,
   category: 'Programação'
 },
 {
   title: 'Aprender C++',
   deadline: '2025-12-31',
   progress: 5,
   category: 'Programação'
 },
 {
   title: 'Montar laboratório prático de cibersegurança com VMs e Raspberry Pi',
   deadline: '2026-01-31',
   progress: 0,
   category: 'Hands-on'
 },
 {
   title: 'Aprofundar em Linux para segurança e automação',
   deadline: '2025-12-31',
   progress: 20,
   category: 'Sistemas Operacionais'
 },
 {
   title: 'Estudar fundamentos de Cloud Computing e segurança em nuvem',
   deadline: '2026-03-31',
   progress: 0,
   category: 'Infraestrutura'
 },
 {
   title: 'Praticar análise de logs e resposta a incidentes',
   deadline: '2026-02-28',
   progress: 0,
   category: 'Blue Team'
 },
 {
   title: 'Aprender fundamentos de DevSecOps e segurança de aplicações',
   deadline: '2026-04-30',
   progress: 0,
   category: 'Desenvolvimento Seguro'
 },
 {
   title: 'Realizar desafios CTF (Capture The Flag) e participar de comunidades de segurança',
   deadline: '2025-12-31',
   progress: 0,
   category: 'Prática/Comunidade'
 },
 {
   title: 'Estudar Cyber Threat Intelligence (CTI) e privacidade de dados',
   deadline: '2026-05-31',
   progress: 100,
   category: 'Especialização'
 },
 {
   title: 'Aprofundar em segurança de infraestruturas críticas (ICS/OT)',
   deadline: '2026-06-30',
   progress: 0,
   category: 'Infraestrutura Crítica'
 }  
];
export default function handler(req, res) {
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Access-Control-Allow-Methods', 'GET,POST,PUT,DELETE,OPTIONS');
  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');
  if (req.method === 'OPTIONS') {
    res.status(200).end();
    return;
  }

  if (req.method === 'GET') {
    return res.status(200).json(goals);
  }
  if (req.method === 'POST') {
    const newGoal = { id: Date.now().toString(), ...req.body };
    goals.push(newGoal);
    return res.status(201).json(newGoal);
  }
  return res.status(405).end();
}